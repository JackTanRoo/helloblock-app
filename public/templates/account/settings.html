<accnav selected="'settings'" global="global"></accnav>

<div class='alert-message' ng-show="change">
  <div class="alert alert-success text-center">
    <a class="close" data-dismiss="alert" href="#" aria-hidden="true">&times;</a>
    <span class="h4">
      Password successfully changed.
    </span>
  </div>
</div>


<div class="container">
  <br>
  <h1 class="text-center">Change Password</h1>
  <br><br>
  <form
    name="settingsForm"
    class="form-horizontal"
    ng-submit="Settings.submit('put', Settings.User)"
    novalidate>

    <!-- Uncaught errors -->
    <div class="error-messages col-sm-7 col-sm-offset-3">
      <div class="alert alert-danger text-center" ng-repeat="error in Settings.errors">
        <span class="h4">
          {{error}}
        </span>
      </div>
    </div>

    <div class="form-group">
      <label class="h3 col-sm-3 big-input-label">Old Password:</label>
      <div class="col-sm-7">
        <input
          class="h3 big-input big-input-left"
          spellcheck="false"
          tabindex="1"
          type="password"
          name="password"
          ng-model="Settings.User.password"
          ng-minlength="8"
          required
        >
      </div>
    </div>
    <div class="error-messages col-sm-7 col-sm-offset-3">
      <div
        ng-show="settingsForm.newPassword.$error.minlength"
        class="alert alert-warning text-center">
        <span class="h4">
          Password must be above 8 characters
        </span>
      </div>
      <div
        ng-show="settingsForm.newPassword.$error.equals"
        class="alert alert-danger text-center">
        <span class="h4">
          Password does not match
        </span>
      </div>
    </div>
    <div class="form-group">
      <label class="h3 col-sm-3 big-input-label">New Password:</label>
      <div class="col-sm-7">
        <input
          tabindex="2"
          class="h3 big-input big-input-left"
          name="newPassword"
          type="password"
          ng-model="Settings.User.newPassword"
          ng-minlength="8"
          required
          equals="{{Settings.User.newPasswordConfirmation}}"
          >
      </div>
    </div>
    <div class="form-group">
      <label class="h3 col-sm-3 big-input-label">New Password Confirmation:</label>
      <div class="col-sm-7">
        <input
          tabindex="3"
          class="h3 big-input big-input-left"
          name="newPasswordConfirmation"
          type="password"
          ng-model="Settings.User.newPasswordConfirmation"
          ng-minlength="8"
          required
          equals="{{Settings.User.newPassword}}"
          >
      </div>
    </div>
    <br><br>
    <div class="form-group">
      <div class="col-sm-1 col-sm-offset-1">
        <spin size="small" ng-show="Settings.submitting"></spin>
      </div>
      <div class="col-md-4 col-md-offset-3">
        <button
          class="btn btn-success btn-lg"
          type="submit"
          ng-disabled="settingsForm.$invalid || Settings.submitting"
          >
          <span class='h2'>
            SUBMIT
          </span>
        </button>
      </div>
    </div>
  </form>

</div>
